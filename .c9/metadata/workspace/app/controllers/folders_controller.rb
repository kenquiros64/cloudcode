{"filter":false,"title":"folders_controller.rb","tooltip":"/app/controllers/folders_controller.rb","undoManager":{"mark":96,"position":96,"stack":[[{"start":{"row":74,"column":7},"end":{"row":76,"column":4},"action":"insert","lines":["","    ","    "],"id":2,"ignore":true}],[{"start":{"row":76,"column":4},"end":{"row":89,"column":6},"action":"insert","lines":["@folder = current_user.folders.find(params[:id]) ","   @parent_folder = @folder.parent #grabbing the parent folder ","  ","   #this will destroy the folder along with all the contents inside ","   #sub folders will also be deleted too as well as all files inside ","   @folder.destroy ","   flash[:notice] = \"Successfully deleted the folder and all the contents inside.\"","  ","   #redirect to a relevant path depending on the parent folder ","   if @parent_folder","    redirect_to browse_path(@parent_folder) ","   else","    redirect_to root_url       ","   end"],"id":3,"ignore":true}],[{"start":{"row":77,"column":0},"end":{"row":77,"column":2},"action":"insert","lines":["  "],"id":4,"ignore":true},{"start":{"row":78,"column":0},"end":{"row":78,"column":2},"action":"insert","lines":["  "]},{"start":{"row":79,"column":0},"end":{"row":79,"column":2},"action":"insert","lines":["  "]},{"start":{"row":80,"column":0},"end":{"row":80,"column":2},"action":"insert","lines":["  "]},{"start":{"row":81,"column":0},"end":{"row":81,"column":2},"action":"insert","lines":["  "]},{"start":{"row":82,"column":0},"end":{"row":82,"column":2},"action":"insert","lines":["  "]},{"start":{"row":83,"column":0},"end":{"row":83,"column":2},"action":"insert","lines":["  "]},{"start":{"row":84,"column":0},"end":{"row":84,"column":2},"action":"insert","lines":["  "]},{"start":{"row":85,"column":0},"end":{"row":85,"column":2},"action":"insert","lines":["  "]},{"start":{"row":86,"column":0},"end":{"row":86,"column":2},"action":"insert","lines":["  "]},{"start":{"row":87,"column":0},"end":{"row":87,"column":2},"action":"insert","lines":["  "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":77,"column":0},"end":{"row":77,"column":2},"action":"remove","lines":["  "],"id":5,"ignore":true},{"start":{"row":78,"column":0},"end":{"row":78,"column":2},"action":"remove","lines":["  "]},{"start":{"row":79,"column":0},"end":{"row":79,"column":2},"action":"remove","lines":["  "]},{"start":{"row":80,"column":0},"end":{"row":80,"column":2},"action":"remove","lines":["  "]},{"start":{"row":81,"column":0},"end":{"row":81,"column":2},"action":"remove","lines":["  "]},{"start":{"row":82,"column":0},"end":{"row":82,"column":2},"action":"remove","lines":["  "]},{"start":{"row":83,"column":0},"end":{"row":83,"column":2},"action":"remove","lines":["  "]},{"start":{"row":84,"column":0},"end":{"row":84,"column":2},"action":"remove","lines":["  "]},{"start":{"row":85,"column":0},"end":{"row":85,"column":2},"action":"remove","lines":["  "]},{"start":{"row":86,"column":0},"end":{"row":86,"column":2},"action":"remove","lines":["  "]},{"start":{"row":87,"column":0},"end":{"row":87,"column":2},"action":"remove","lines":["  "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":77,"column":2},"end":{"row":77,"column":3},"action":"insert","lines":[" "],"id":6,"ignore":true}],[{"start":{"row":79,"column":3},"end":{"row":79,"column":4},"action":"insert","lines":[" "],"id":7,"ignore":true}],[{"start":{"row":80,"column":3},"end":{"row":80,"column":4},"action":"insert","lines":[" "],"id":8,"ignore":true},{"start":{"row":81,"column":3},"end":{"row":81,"column":4},"action":"insert","lines":[" "]}],[{"start":{"row":82,"column":3},"end":{"row":82,"column":4},"action":"insert","lines":[" "],"id":9,"ignore":true}],[{"start":{"row":84,"column":3},"end":{"row":84,"column":4},"action":"insert","lines":[" "],"id":10,"ignore":true},{"start":{"row":85,"column":3},"end":{"row":85,"column":4},"action":"insert","lines":[" "]},{"start":{"row":86,"column":2},"end":{"row":86,"column":3},"action":"insert","lines":[" "]}],[{"start":{"row":87,"column":3},"end":{"row":87,"column":4},"action":"insert","lines":[" "],"id":11,"ignore":true}],[{"start":{"row":88,"column":4},"end":{"row":88,"column":5},"action":"insert","lines":[" "],"id":12,"ignore":true}],[{"start":{"row":89,"column":3},"end":{"row":89,"column":4},"action":"insert","lines":[" "],"id":13,"ignore":true}],[{"start":{"row":75,"column":4},"end":{"row":76,"column":53},"action":"remove","lines":["","    @folder = current_user.folders.find(params[:id]) "],"id":14,"ignore":true}],[{"start":{"row":69,"column":53},"end":{"row":70,"column":64},"action":"insert","lines":["","    @parent_folder = @folder.parent #grabbing the parent folder "],"id":15,"ignore":true}],[{"start":{"row":69,"column":53},"end":{"row":70,"column":64},"action":"remove","lines":["","    @parent_folder = @folder.parent #grabbing the parent folder "],"id":16,"ignore":true}],[{"start":{"row":75,"column":4},"end":{"row":76,"column":53},"action":"insert","lines":["","    @folder = current_user.folders.find(params[:id]) "],"id":17,"ignore":true}],[{"start":{"row":75,"column":4},"end":{"row":76,"column":53},"action":"remove","lines":["","    @folder = current_user.folders.find(params[:id]) "],"id":18,"ignore":true}],[{"start":{"row":76,"column":4},"end":{"row":76,"column":63},"action":"remove","lines":["@parent_folder = @folder.parent #grabbing the parent folder"],"id":19,"ignore":true}],[{"start":{"row":69,"column":52},"end":{"row":69,"column":53},"action":"remove","lines":[" "],"id":20,"ignore":true},{"start":{"row":69,"column":52},"end":{"row":70,"column":63},"action":"insert","lines":["","    @parent_folder = @folder.parent #grabbing the parent folder"]}],[{"start":{"row":70,"column":63},"end":{"row":71,"column":4},"action":"insert","lines":["","    "],"id":21,"ignore":true}],[{"start":{"row":80,"column":4},"end":{"row":81,"column":70},"action":"remove","lines":["#this will destroy the folder along with all the contents inside ","    #sub folders will also be deleted too as well as all files inside "],"id":22,"ignore":true}],[{"start":{"row":71,"column":4},"end":{"row":72,"column":70},"action":"insert","lines":["#this will destroy the folder along with all the contents inside ","    #sub folders will also be deleted too as well as all files inside "],"id":23,"ignore":true}],[{"start":{"row":82,"column":4},"end":{"row":82,"column":20},"action":"remove","lines":["@folder.destroy "],"id":24,"ignore":true}],[{"start":{"row":83,"column":4},"end":{"row":83,"column":83},"action":"remove","lines":["flash[:notice] = \"Successfully deleted the folder and all the contents inside.\""],"id":25,"ignore":true}],[{"start":{"row":73,"column":19},"end":{"row":74,"column":83},"action":"insert","lines":["","    flash[:notice] = \"Successfully deleted the folder and all the contents inside.\""],"id":26,"ignore":true}],[{"start":{"row":74,"column":22},"end":{"row":74,"column":34},"action":"remove","lines":["Successfully"],"id":27,"ignore":true},{"start":{"row":74,"column":22},"end":{"row":74,"column":25},"action":"insert","lines":["Fol"]}],[{"start":{"row":74,"column":25},"end":{"row":74,"column":28},"action":"insert","lines":["der"],"id":28,"ignore":true}],[{"start":{"row":74,"column":28},"end":{"row":74,"column":29},"action":"insert","lines":[" "],"id":29,"ignore":true}],[{"start":{"row":74,"column":29},"end":{"row":74,"column":33},"action":"insert","lines":["was "],"id":30,"ignore":true}],[{"start":{"row":74,"column":33},"end":{"row":74,"column":45},"action":"insert","lines":["successfully"],"id":31,"ignore":true}],[{"start":{"row":74,"column":54},"end":{"row":74,"column":64},"action":"remove","lines":["the folder"],"id":32,"ignore":true}],[{"start":{"row":74,"column":54},"end":{"row":74,"column":83},"action":"remove","lines":[" and all the contents inside."],"id":33,"ignore":true}],[{"start":{"row":74,"column":53},"end":{"row":74,"column":54},"action":"remove","lines":[" "],"id":34,"ignore":true}],[{"start":{"row":74,"column":29},"end":{"row":74,"column":57},"action":"insert","lines":["and all the contents inside."],"id":35,"ignore":true}],[{"start":{"row":74,"column":56},"end":{"row":74,"column":57},"action":"remove","lines":["."],"id":36,"ignore":true},{"start":{"row":74,"column":56},"end":{"row":74,"column":57},"action":"insert","lines":[" "]}],[{"start":{"row":74,"column":58},"end":{"row":74,"column":60},"action":"remove","lines":["as"],"id":37,"ignore":true}],[{"start":{"row":74,"column":58},"end":{"row":74,"column":59},"action":"insert","lines":["e"],"id":38,"ignore":true}],[{"start":{"row":74,"column":59},"end":{"row":74,"column":61},"action":"insert","lines":["re"],"id":39,"ignore":true}],[{"start":{"row":86,"column":4},"end":{"row":91,"column":7},"action":"remove","lines":["#redirect to a relevant path depending on the parent folder ","    if @parent_folder","     redirect_to browse_path(@parent_folder) ","    else","     redirect_to root_url       ","    end"],"id":40,"ignore":true}],[{"start":{"row":79,"column":4},"end":{"row":86,"column":4},"action":"remove","lines":["","     ","  ","    ","    ","    ","  ","    "],"id":41,"ignore":true}],[{"start":{"row":75,"column":4},"end":{"row":78,"column":7},"action":"remove","lines":["respond_to do |format|","      format.html { redirect_to folders_url, notice: 'Folder was successfully destroyed.' }","      format.json { head :no_content }","    end"],"id":42,"ignore":true},{"start":{"row":75,"column":4},"end":{"row":76,"column":4},"action":"insert","lines":["","    "]}],[{"start":{"row":76,"column":4},"end":{"row":81,"column":7},"action":"insert","lines":["#redirect to a relevant path depending on the parent folder ","    if @parent_folder","     redirect_to browse_path(@parent_folder) ","    else","     redirect_to root_url       ","    end"],"id":43,"ignore":true}],[{"start":{"row":81,"column":7},"end":{"row":82,"column":4},"action":"remove","lines":["","    "],"id":44,"ignore":true}],[{"start":{"row":31,"column":53},"end":{"row":34,"column":69},"action":"insert","lines":["","    ","    @folder = current_user.folders.find(params[:folder_id]) ","    @current_folder = @folder.parent    #this is just for breadcrumbs"],"id":45,"ignore":true}],[{"start":{"row":31,"column":53},"end":{"row":33,"column":60},"action":"remove","lines":["","    ","    @folder = current_user.folders.find(params[:folder_id]) "],"id":46,"ignore":true}],[{"start":{"row":31,"column":48},"end":{"row":31,"column":50},"action":"remove","lines":["id"],"id":47,"ignore":true},{"start":{"row":31,"column":48},"end":{"row":31,"column":57},"action":"insert","lines":["folder_id"]}],[{"start":{"row":61,"column":8},"end":{"row":62,"column":82},"action":"remove","lines":["format.html { render :edit }","        format.json { render json: @folder.errors, status: :unprocessable_entity }"],"id":48,"ignore":true},{"start":{"row":61,"column":8},"end":{"row":61,"column":64},"action":"insert","lines":["redirect_to root_url #if not, redirect back to home page"]}],[{"start":{"row":58,"column":8},"end":{"row":58,"column":22},"action":"remove","lines":["format.html { "],"id":49,"ignore":true}],[{"start":{"row":58,"column":73},"end":{"row":59,"column":68},"action":"remove","lines":["","        format.json { render :show, status: :ok, location: @folder }"],"id":50,"ignore":true}],[{"start":{"row":58,"column":73},"end":{"row":59,"column":88},"action":"insert","lines":["","        redirect_to browse_path(@folder.parent)  #then we redirect to the parent folder "],"id":51,"ignore":true}],[{"start":{"row":55,"column":53},"end":{"row":56,"column":51},"action":"insert","lines":["","    flash[:notice] = \"Successfully created folder.\""],"id":52,"ignore":true}],[{"start":{"row":56,"column":21},"end":{"row":56,"column":51},"action":"remove","lines":["\"Successfully created folder.\""],"id":53,"ignore":true},{"start":{"row":56,"column":21},"end":{"row":56,"column":55},"action":"insert","lines":["'Folder was successfully updated.'"]}],[{"start":{"row":57,"column":4},"end":{"row":57,"column":26},"action":"remove","lines":["respond_to do |format|"],"id":54,"ignore":true}],[{"start":{"row":64,"column":6},"end":{"row":64,"column":7},"action":"remove","lines":["d"],"id":55,"ignore":true}],[{"start":{"row":64,"column":4},"end":{"row":64,"column":6},"action":"remove","lines":["en"],"id":56,"ignore":true}],[{"start":{"row":58,"column":0},"end":{"row":58,"column":2},"action":"remove","lines":["  "],"id":57,"ignore":true},{"start":{"row":59,"column":0},"end":{"row":59,"column":2},"action":"remove","lines":["  "]},{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"remove","lines":["  "]},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"remove","lines":["  "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"remove","lines":["  "]},{"start":{"row":63,"column":0},"end":{"row":63,"column":2},"action":"remove","lines":["  "]}],[{"start":{"row":58,"column":36},"end":{"row":59,"column":71},"action":"remove","lines":["","      redirect_to @folder, notice: 'Folder was successfully updated.' }"],"id":58,"ignore":true}],[{"start":{"row":56,"column":4},"end":{"row":56,"column":55},"action":"remove","lines":["flash[:notice] = 'Folder was successfully updated.'"],"id":59,"ignore":true}],[{"start":{"row":55,"column":53},"end":{"row":56,"column":4},"action":"remove","lines":["","    "],"id":60,"ignore":true}],[{"start":{"row":57,"column":36},"end":{"row":58,"column":57},"action":"insert","lines":["","      flash[:notice] = 'Folder was successfully updated.'"],"id":61,"ignore":true}],[{"start":{"row":60,"column":8},"end":{"row":61,"column":57},"action":"insert","lines":["","      flash[:notice] = 'Folder was successfully updated.'"],"id":62,"ignore":true}],[{"start":{"row":61,"column":13},"end":{"row":61,"column":19},"action":"remove","lines":["notice"],"id":63,"ignore":true},{"start":{"row":61,"column":13},"end":{"row":61,"column":16},"action":"insert","lines":["err"]}],[{"start":{"row":61,"column":16},"end":{"row":61,"column":18},"action":"insert","lines":["or"],"id":64,"ignore":true}],[{"start":{"row":45,"column":8},"end":{"row":45,"column":28},"action":"remove","lines":["redirect_to root_url"],"id":65,"ignore":true},{"start":{"row":45,"column":8},"end":{"row":45,"column":101},"action":"insert","lines":["redirect_to root_url, flash: {error: \"Stop! You can not see private folders of other users!\"}"]}],[{"start":{"row":45,"column":8},"end":{"row":45,"column":101},"action":"remove","lines":["redirect_to root_url, flash: {error: \"Stop! You can not see private folders of other users!\"}"],"id":66,"ignore":true},{"start":{"row":45,"column":8},"end":{"row":45,"column":28},"action":"insert","lines":["redirect_to root_url"]}],[{"start":{"row":61,"column":17},"end":{"row":61,"column":18},"action":"remove","lines":["r"],"id":67,"ignore":true}],[{"start":{"row":62,"column":6},"end":{"row":62,"column":26},"action":"remove","lines":["redirect_to root_url"],"id":68,"ignore":true},{"start":{"row":62,"column":6},"end":{"row":62,"column":99},"action":"insert","lines":["redirect_to root_url, flash: {error: \"Stop! You can not see private folders of other users!\"}"]}],[{"start":{"row":62,"column":44},"end":{"row":62,"column":48},"action":"remove","lines":["Stop"],"id":69,"ignore":true},{"start":{"row":62,"column":44},"end":{"row":62,"column":48},"action":"insert","lines":["An e"]}],[{"start":{"row":62,"column":48},"end":{"row":62,"column":53},"action":"insert","lines":["rror "],"id":70,"ignore":true}],[{"start":{"row":62,"column":53},"end":{"row":62,"column":54},"action":"insert","lines":["o"],"id":71,"ignore":true}],[{"start":{"row":62,"column":54},"end":{"row":62,"column":58},"action":"insert","lines":["curr"],"id":72,"ignore":true}],[{"start":{"row":62,"column":58},"end":{"row":62,"column":60},"action":"insert","lines":["ed"],"id":73,"ignore":true}],[{"start":{"row":62,"column":62},"end":{"row":62,"column":109},"action":"remove","lines":["You can not see private folders of other users!"],"id":74,"ignore":true},{"start":{"row":62,"column":62},"end":{"row":62,"column":94},"action":"insert","lines":["Folder was successfully updated."]}],[{"start":{"row":62,"column":73},"end":{"row":62,"column":85},"action":"remove","lines":["successfully"],"id":75,"ignore":true},{"start":{"row":62,"column":73},"end":{"row":62,"column":76},"action":"insert","lines":["not"]}],[{"start":{"row":62,"column":53},"end":{"row":62,"column":60},"action":"remove","lines":["ocurred"],"id":76,"ignore":true},{"start":{"row":62,"column":53},"end":{"row":62,"column":61},"action":"insert","lines":["occurred"]}],[{"start":{"row":60,"column":8},"end":{"row":61,"column":55},"action":"remove","lines":["","      flash[:erro] = 'Folder was successfully updated.'"],"id":77,"ignore":true}],[{"start":{"row":56,"column":4},"end":{"row":56,"column":35},"action":"insert","lines":["@parent_folder = @folder.parent"],"id":78,"ignore":true}],[{"start":{"row":59,"column":34},"end":{"row":59,"column":44},"action":"remove","lines":["der.parent"],"id":79,"ignore":true}],[{"start":{"row":59,"column":31},"end":{"row":59,"column":34},"action":"remove","lines":["fol"],"id":80,"ignore":true}],[{"start":{"row":59,"column":31},"end":{"row":59,"column":33},"action":"insert","lines":["pa"],"id":81,"ignore":true}],[{"start":{"row":59,"column":31},"end":{"row":59,"column":33},"action":"remove","lines":["pa"],"id":82,"ignore":true},{"start":{"row":59,"column":31},"end":{"row":59,"column":44},"action":"insert","lines":["parent_folder"]}],[{"start":{"row":59,"column":44},"end":{"row":59,"column":45},"action":"insert","lines":["."],"id":83,"ignore":true}],[{"start":{"row":59,"column":45},"end":{"row":59,"column":48},"action":"insert","lines":["fol"],"id":84,"ignore":true}],[{"start":{"row":59,"column":45},"end":{"row":59,"column":48},"action":"remove","lines":["fol"],"id":85,"ignore":true},{"start":{"row":59,"column":45},"end":{"row":59,"column":54},"action":"insert","lines":["folder_id"]}],[{"start":{"row":59,"column":6},"end":{"row":60,"column":6},"action":"insert","lines":["","      "],"id":86,"ignore":true}],[{"start":{"row":60,"column":6},"end":{"row":60,"column":8},"action":"insert","lines":["  "],"id":87,"ignore":true}],[{"start":{"row":59,"column":6},"end":{"row":62,"column":28},"action":"insert","lines":["if @parent_folder","     redirect_to browse_path(@parent_folder) ","    else","     redirect_to root_url   "],"id":88,"ignore":true}],[{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"insert","lines":["  "],"id":89,"ignore":true},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"insert","lines":["  "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":60,"column":0},"end":{"row":60,"column":2},"action":"insert","lines":["  "],"id":90,"ignore":true},{"start":{"row":61,"column":0},"end":{"row":61,"column":2},"action":"insert","lines":["  "]},{"start":{"row":62,"column":0},"end":{"row":62,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":64,"column":4},"end":{"row":65,"column":4},"action":"insert","lines":["","    "],"id":91,"ignore":true}],[{"start":{"row":64,"column":4},"end":{"row":64,"column":6},"action":"insert","lines":["  "],"id":92,"ignore":true}],[{"start":{"row":64,"column":6},"end":{"row":64,"column":10},"action":"insert","lines":["ende"],"id":93,"ignore":true}],[{"start":{"row":64,"column":9},"end":{"row":64,"column":10},"action":"remove","lines":["e"],"id":94,"ignore":true}],[{"start":{"row":61,"column":6},"end":{"row":61,"column":8},"action":"remove","lines":["  "],"id":95,"ignore":true}],[{"start":{"row":60,"column":8},"end":{"row":60,"column":9},"action":"remove","lines":[" "],"id":96,"ignore":true}],[{"start":{"row":62,"column":8},"end":{"row":62,"column":9},"action":"remove","lines":[" "],"id":97,"ignore":true}],[{"start":{"row":62,"column":31},"end":{"row":63,"column":98},"action":"remove","lines":["","        redirect_to browse_path(@parent_folder.folder_id)  #then we redirect to the parent folder "],"id":98,"ignore":true}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":5},"end":{"row":13,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":7,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1447651179000,"hash":"08527cace2202c75b0af479b2228fc9a526afdb2"}